# C_code_learn

structure
***

结构是一些值的集合，这些值被称为`成员变量` ，结构的每个成员可以是不同类型的变量
列如char int short double等等都为`内置变量`

在`描述复杂对象`时，如
一个人：名字 + 电话 + 性别 + 身高
我们可以`使用结构体来自定类型`

## 结构体声明
- 结构体声明语法：
> struct tag
> {
> menber-list
> }variable-list

其中`tag`为`结构体标签`,创建了名为`tag`的`结构类型`
`struct`为`结构体关键字`，不能省略

`menber-list`为`成员列表`

`variable-list`为创建的`结构体变量`

> eg:
> struct Peo
> {
>   char name[20];
>   char tele[12];
>   char sex[5]; 
> // 一个汉字占两个字符，即2Byte
>   int high
> }p1,p2
> //在此处创建两个变量p1与p2

此处为我们声明的结构体类型

#### 结构体变量的创建：
  
  1. 声明时创建全局变量：p1与p2是我们利用声明的结构体类型定义的`全局结构体变量`（少用）
 
  2.  在函数中创建临时变量并初始化：
      >eg：
      int main()
      {
          struct Peo p1 = { 0 };// 创建同时初始化
      }
      即语法为struct + 结构体标签Tag + 结构体变量名

在主函数外我们声明要创建的结构体本质上类似于**图纸**与**模板**
当我们使用模板创建结构体变量时才在内存中申请空间供我们使用

- 结构体的成员类型可以是标量、数组、指针或其他结构体

- 创建结构体中可以出现其他结构体变量`嵌套结构体`，类似于类的继承


#### 结构体变量的初始化：

> eg:
> struct Peo p1 = {"张三"，"15596668862"， 181}
> // 在创建结构体变量时给结构体变量赋值完成初始化

- 如何初始化含有结构体变量的结构体变量？（即嵌套结构体的初始化）

> eg:
> struct St
> {
>   struct Peo p;
>   int num;
>   float f;
> }
>
> int main()
> {
>   struct{{"list", "1559668888","女"， 166}， 100， 3.14f// 默认为double，加f表示float}
>   // 利用双层大括号为结构体实现嵌套定义
> }

## 结构体的访问

- 如何取出成员信息？
    1. 结构体变量名 + . + 成员变量名
    eg： 
    `p1.name;`
    `.p.name;`
    因为此处为`结构体的对象`，故用`点操作符`
    如果使用的时`地址`，则为`箭头操作符`

    2.  使用`结构体指针` + `->` + `成员变量`

## 结构体传参

传参对象为结构体时，有两种传递方式，一是传递`结构体变量自身`，二是传递`结构体变量地址`

假设我创建了一个结构体变量P1，我要将其传入编写的函数Print
- 法一写法为`Print(P1)`;
- 法二写法为`Print( &P1 )`;

法一写法会让结构体在内存中再开辟一个临时空间，占用栈，同时拷贝需要时间

所以在实际编写中，我们会更倾向于传递变量地址后使用指针接受

函数传参的时候,参数是需要压栈的。
如果传递一个结构体对象的时候,结构体过大,参数压栈的的系统开销比较大,所以会导致性能的下降





